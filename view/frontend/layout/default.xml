<?xml version="1.0"?>
<!--
/*
 * Alpine frontend components are inspired and created starting from Loki_Base and Loki_Theme
 *
 * loki-theme/magento2-luma-components
 * Version: 0.0.9
 * Copyright: 2025 Jisse Reitsma
 */
-->
<page xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
      xsi:noNamespaceSchemaLocation="urn:magento:module:View/Layout:etc/page_configuration.xsd">

    <body>
        <referenceContainer name="before.body.end">
            <container name="alpine-js">
                <block
                    before="-"
                    name="alpine-js.loader"
                    template="MageOS_AlpineLoader::script/alpine-csp.phtml"/>

                <block
                    before="-"
                    name="alpine-js.variables"
                    template="MageOS_AlpineLoader::script/variables.phtml">
                    <arguments>
                        <argument name="form_key_value" xsi:type="object">MageOS\AlpineLoader\Util\FormKeyValue</argument>
                        <argument name="locale_code" xsi:type="object">MageOS\AlpineLoader\Util\LocaleCode</argument>
                    </arguments>
                </block>

                <container name="alpine-js.store"/>
                <container name="alpine-js.directive"/>
                <container name="alpine-js.component"/>
            </container>
        </referenceContainer>
    </body>
</page>
